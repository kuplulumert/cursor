<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fluid Dynamics Handbook - Interactive Educational Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Crimson+Pro:wght@300;400;500;600&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #1e3a8a;
            --secondary-color: #3b82f6;
            --accent-color: #f59e0b;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-accent: #eff6ff;
            --border-color: #e5e7eb;
            --shadow-light: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-medium: 0 4px 12px rgba(0,0,0,0.1);
            --shadow-heavy: 0 10px 25px rgba(0,0,0,0.15);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #f0f9ff 100%);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .handbook-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            min-height: 100vh;
            background: var(--bg-primary);
            box-shadow: var(--shadow-heavy);
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 320px;
            background: linear-gradient(180deg, var(--primary-color) 0%, #1e40af 100%);
            color: white;
            padding: 0;
            overflow-y: auto;
            position: relative;
        }

        .sidebar-header {
            padding: 30px 25px;
            background: rgba(255, 255, 255, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .handbook-title {
            font-family: 'Crimson Pro', serif;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
            line-height: 1.2;
        }

        .handbook-subtitle {
            font-size: 14px;
            opacity: 0.8;
            font-weight: 300;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-color);
            width: 15%;
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .chapter-nav {
            padding: 20px 0;
        }

        .chapter {
            margin-bottom: 5px;
        }

        .chapter-title {
            padding: 15px 25px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chapter-title:hover {
            background: rgba(255, 255, 255, 0.1);
            border-left-color: var(--accent-color);
        }

        .chapter-title.active {
            background: rgba(255, 255, 255, 0.15);
            border-left-color: var(--accent-color);
        }

        .chapter-icon {
            font-size: 16px;
            margin-right: 10px;
        }

        .chapter-sections {
            background: rgba(0, 0, 0, 0.1);
            display: none;
        }

        .chapter-sections.expanded {
            display: block;
        }

        .section-item {
            padding: 12px 25px 12px 60px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0.8;
            border-left: 3px solid transparent;
        }

        .section-item:hover {
            background: rgba(255, 255, 255, 0.1);
            opacity: 1;
        }

        .section-item.active {
            background: rgba(255, 255, 255, 0.15);
            border-left-color: var(--accent-color);
            opacity: 1;
        }

        .section-status {
            float: right;
            font-size: 12px;
            margin-top: 1px;
        }

        /* Main Content Area */
        .content-area {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .content-header {
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
            padding: 20px 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow-light);
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .breadcrumb-item {
            display: flex;
            align-items: center;
        }

        .breadcrumb-separator {
            margin: 0 8px;
            opacity: 0.5;
        }

        .content-tools {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .tool-btn {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .tool-btn:hover {
            background: var(--bg-accent);
            border-color: var(--secondary-color);
        }

        .content-main {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
            background: var(--bg-secondary);
        }

        .content-page {
            max-width: 900px;
            margin: 0 auto;
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 50px 60px;
            box-shadow: var(--shadow-medium);
            font-family: 'Crimson Pro', serif;
            font-size: 18px;
            line-height: 1.8;
        }

        .page-title {
            font-family: 'Crimson Pro', serif;
            font-size: 36px;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
            line-height: 1.2;
        }

        .page-subtitle {
            font-size: 20px;
            color: var(--text-secondary);
            margin-bottom: 30px;
            font-weight: 300;
        }

        .section-heading {
            font-family: 'Inter', sans-serif;
            font-size: 24px;
            font-weight: 600;
            color: var(--primary-color);
            margin: 40px 0 20px 0;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 8px;
        }

        .subsection-heading {
            font-family: 'Inter', sans-serif;
            font-size: 20px;
            font-weight: 500;
            color: var(--text-primary);
            margin: 30px 0 15px 0;
        }

        .content-text {
            margin-bottom: 20px;
            text-align: justify;
        }

        .highlight-box {
            background: linear-gradient(135deg, var(--bg-accent) 0%, #dbeafe 100%);
            border-left: 4px solid var(--secondary-color);
            padding: 25px;
            margin: 30px 0;
            border-radius: 8px;
            position: relative;
        }

        .highlight-box::before {
            content: "\f0eb";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            position: absolute;
            top: 20px;
            right: 20px;
            color: var(--secondary-color);
            font-size: 20px;
            opacity: 0.3;
        }

        .formula-box {
            background: #fefefe;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: var(--shadow-light);
        }

        .formula-title {
            font-family: 'Inter', sans-serif;
            font-size: 16px;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .example-box {
            background: #fffbeb;
            border-left: 4px solid var(--accent-color);
            padding: 25px;
            margin: 30px 0;
            border-radius: 8px;
        }

        .example-title {
            font-family: 'Inter', sans-serif;
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .example-title::before {
            content: "\f0c5";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            margin-right: 10px;
        }

        .definition-box {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }

        .definition-title {
            font-family: 'Inter', sans-serif;
            font-size: 16px;
            font-weight: 600;
            color: #059669;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .definition-title::before {
            content: "\f02d";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            margin-right: 8px;
        }

        .navigation-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid var(--border-color);
        }

        .nav-btn {
            padding: 12px 24px;
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn:hover {
            background: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .nav-btn:disabled {
            background: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .page-info {
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            color: var(--text-secondary);
            text-align: center;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .sidebar {
                width: 280px;
            }
            
            .content-page {
                padding: 30px 40px;
            }
        }

        @media (max-width: 768px) {
            .handbook-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                max-height: 300px;
            }
            
            .content-main {
                padding: 20px;
            }
            
            .content-page {
                padding: 20px 25px;
            }
        }

        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Math styling */
        .MathJax {
            font-size: 1.1em !important;
        }

        /* Custom scrollbar */
        .sidebar::-webkit-scrollbar,
        .content-main::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
        }

        .content-main::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        .content-main::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="handbook-container">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h1 class="handbook-title">Fluid Dynamics Handbook</h1>
                <p class="handbook-subtitle">Interactive Educational Guide</p>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
            </div>

            <nav class="chapter-nav">
                <div class="chapter">
                    <div class="chapter-title active" data-chapter="fundamentals">
                        <div>
                            <i class="fas fa-atom chapter-icon"></i>
                            Fundamentals
                        </div>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="chapter-sections expanded">
                        <div class="section-item active" data-section="introduction">
                            Introduction to Fluids
                            <span class="section-status"><i class="fas fa-check"></i></span>
                        </div>
                        <div class="section-item" data-section="properties">
                            Fluid Properties
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                        <div class="section-item" data-section="classification">
                            Flow Classification
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                    </div>
                </div>

                <div class="chapter">
                    <div class="chapter-title" data-chapter="kinematics">
                        <div>
                            <i class="fas fa-arrows-alt chapter-icon"></i>
                            Fluid Kinematics
                        </div>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="chapter-sections">
                        <div class="section-item" data-section="velocity-field">
                            Velocity Fields
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                        <div class="section-item" data-section="streamlines">
                            Streamlines & Pathlines
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                        <div class="section-item" data-section="acceleration">
                            Acceleration Fields
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                    </div>
                </div>

                <div class="chapter">
                    <div class="chapter-title" data-chapter="conservation">
                        <div>
                            <i class="fas fa-balance-scale chapter-icon"></i>
                            Conservation Laws
                        </div>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="chapter-sections">
                        <div class="section-item" data-section="continuity">
                            Continuity Equation
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                        <div class="section-item" data-section="momentum">
                            Momentum Equation
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                        <div class="section-item" data-section="energy">
                            Energy Equation
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                    </div>
                </div>

                <div class="chapter">
                    <div class="chapter-title" data-chapter="applications">
                        <div>
                            <i class="fas fa-cogs chapter-icon"></i>
                            Applications
                        </div>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="chapter-sections">
                        <div class="section-item" data-section="bernoulli">
                            Bernoulli's Equation
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                        <div class="section-item" data-section="pipe-flow">
                            Pipe Flow
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                        <div class="section-item" data-section="external-flow">
                            External Flow
                            <span class="section-status"><i class="fas fa-circle"></i></span>
                        </div>
                    </div>
                </div>
            </nav>
        </div>

        <!-- Main Content Area -->
        <div class="content-area">
            <div class="content-header">
                <div class="breadcrumb">
                    <span class="breadcrumb-item">Fundamentals</span>
                    <span class="breadcrumb-separator"><i class="fas fa-chevron-right"></i></span>
                    <span class="breadcrumb-item">Introduction to Fluids</span>
                </div>
                <div class="content-tools">
                    <div class="tool-btn" id="bookmark-btn">
                        <i class="fas fa-bookmark"></i>
                        Bookmark
                    </div>
                    <div class="tool-btn" id="print-btn">
                        <i class="fas fa-print"></i>
                        Print
                    </div>
                    <div class="tool-btn" id="search-btn">
                        <i class="fas fa-search"></i>
                        Search
                    </div>
                </div>
            </div>

            <div class="content-main">
                <div class="content-page fade-in" id="content-container">
                    <h1 class="page-title">Introduction to Fluids</h1>
                    <p class="page-subtitle">Understanding the fundamentals of fluid mechanics</p>

                    <div class="definition-box">
                        <div class="definition-title">Definition: Fluid</div>
                        <p>A <strong>fluid</strong> is a substance that continuously deforms (flows) under an applied shear stress, regardless of how small that stress may be. This includes both liquids and gases.</p>
                    </div>

                    <div class="content-text">
                        Fluid mechanics is the branch of physics that studies the motion of fluids (liquids and gases) and the forces acting on them. It has applications in numerous fields including aerodynamics, hydraulics, meteorology, oceanography, and biomedical engineering.
                    </div>

                    <h2 class="section-heading">Key Characteristics of Fluids</h2>

                    <div class="content-text">
                        Fluids differ from solids in several fundamental ways that affect their behavior under various conditions:
                    </div>

                    <div class="subsection-heading">1. Molecular Structure</div>
                    <div class="content-text">
                        In fluids, molecules are not rigidly connected to each other, allowing them to move freely. This molecular mobility is what enables fluids to flow and take the shape of their container.
                    </div>

                    <div class="subsection-heading">2. Shear Stress Response</div>
                    <div class="content-text">
                        Unlike solids, which can withstand shear stress without continuous deformation, fluids will continuously deform when subjected to any shear stress, no matter how small.
                    </div>

                    <div class="highlight-box">
                        <strong>Important Concept:</strong> The fundamental difference between solids and fluids lies in their response to shear stress. A solid will deform elastically under small shear stress and return to its original shape when the stress is removed. A fluid, however, will continue to deform as long as the shear stress is applied.
                    </div>

                    <h2 class="section-heading">Types of Fluids</h2>

                    <div class="subsection-heading">Liquids</div>
                    <div class="content-text">
                        Liquids are characterized by:
                        <ul style="margin: 15px 0 15px 30px;">
                            <li>Definite volume but no definite shape</li>
                            <li>High density compared to gases</li>
                            <li>Low compressibility</li>
                            <li>Formation of free surfaces</li>
                        </ul>
                    </div>

                    <div class="subsection-heading">Gases</div>
                    <div class="content-text">
                        Gases are characterized by:
                        <ul style="margin: 15px 0 15px 30px;">
                            <li>No definite volume or shape</li>
                            <li>Low density compared to liquids</li>
                            <li>High compressibility</li>
                            <li>Complete filling of containers</li>
                        </ul>
                    </div>

                    <div class="example-box">
                        <div class="example-title">Example: Water vs. Air</div>
                        <p>Consider water and air at standard conditions:</p>
                        <ul style="margin: 10px 0 0 20px;">
                            <li><strong>Water:</strong> Density ≈ 1000 kg/m³, nearly incompressible</li>
                            <li><strong>Air:</strong> Density ≈ 1.2 kg/m³, highly compressible</li>
                        </ul>
                        <p style="margin-top: 15px;">This difference in density affects how we analyze flows involving each fluid.</p>
                    </div>

                    <h2 class="section-heading">Mathematical Description</h2>

                    <div class="content-text">
                        The behavior of fluids can be described mathematically using the concept of a continuum. This approach treats the fluid as a continuous medium rather than considering individual molecules.
                    </div>

                    <div class="formula-box">
                        <div class="formula-title">Continuum Assumption</div>
                        <p>For a characteristic length scale $L$ and mean free path $\lambda$:</p>
                        $$\text{Knudsen number: } Kn = \frac{\lambda}{L} \ll 1$$
                        <p style="margin-top: 15px; font-size: 14px; color: #6b7280;">
                            When $Kn \ll 1$, the continuum assumption is valid
                        </p>
                    </div>

                    <div class="content-text">
                        The continuum assumption allows us to define fluid properties like density, pressure, and velocity as continuous functions of space and time, enabling the use of calculus in fluid analysis.
                    </div>

                    <div class="navigation-footer">
                        <button class="nav-btn" disabled>
                            <i class="fas fa-chevron-left"></i>
                            Previous
                        </button>
                        <div class="page-info">
                            Page 1 of 12 | Chapter 1: Fundamentals
                        </div>
                        <button class="nav-btn" id="next-btn">
                            Next
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentChapter = 'fundamentals';
        let currentSection = 'introduction';
        let completedSections = ['introduction'];
        let bookmarks = [];

        // Content data structure
        const handbookContent = {
            fundamentals: {
                title: "Fundamentals",
                sections: {
                    introduction: {
                        title: "Introduction to Fluids",
                        content: "introduction" // Current content
                    },
                    properties: {
                        title: "Fluid Properties",
                        content: "properties"
                    },
                    classification: {
                        title: "Flow Classification", 
                        content: "classification"
                    }
                }
            },
            kinematics: {
                title: "Fluid Kinematics",
                sections: {
                    "velocity-field": {
                        title: "Velocity Fields",
                        content: "velocity-field"
                    },
                    streamlines: {
                        title: "Streamlines & Pathlines",
                        content: "streamlines"
                    },
                    acceleration: {
                        title: "Acceleration Fields",
                        content: "acceleration"
                    }
                }
            }
            // More chapters will be added
        };

        // Initialize the application
        function init() {
            console.log('Initializing Fluid Dynamics Handbook...');
            
            setupNavigation();
            setupTools();
            updateProgress();
            
            console.log('Handbook initialized successfully!');
        }

        function setupNavigation() {
            // Chapter title clicks
            document.querySelectorAll('.chapter-title').forEach(title => {
                title.addEventListener('click', (e) => {
                    const chapter = e.currentTarget.dataset.chapter;
                    toggleChapter(chapter);
                });
            });

            // Section clicks
            document.querySelectorAll('.section-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    const section = e.currentTarget.dataset.section;
                    navigateToSection(section);
                });
            });

            // Navigation buttons
            document.getElementById('next-btn')?.addEventListener('click', () => {
                navigateNext();
            });
        }

        function setupTools() {
            // Bookmark functionality
            document.getElementById('bookmark-btn').addEventListener('click', () => {
                toggleBookmark();
            });

            // Print functionality
            document.getElementById('print-btn').addEventListener('click', () => {
                window.print();
            });

            // Search functionality (placeholder)
            document.getElementById('search-btn').addEventListener('click', () => {
                alert('Search functionality coming soon!');
            });
        }

        function toggleChapter(chapterKey) {
            const chapterTitle = document.querySelector(`[data-chapter="${chapterKey}"]`);
            const sections = chapterTitle.parentElement.querySelector('.chapter-sections');
            const chevron = chapterTitle.querySelector('.fa-chevron-down, .fa-chevron-up');
            
            if (sections.classList.contains('expanded')) {
                sections.classList.remove('expanded');
                chevron.className = 'fas fa-chevron-down';
            } else {
                sections.classList.add('expanded');
                chevron.className = 'fas fa-chevron-up';
            }
        }

        function navigateToSection(sectionKey) {
            // Update active states
            document.querySelectorAll('.section-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[data-section="${sectionKey}"]`).classList.add('active');

            // Update breadcrumb and content
            currentSection = sectionKey;
            updateBreadcrumb();
            loadSectionContent(sectionKey);
            
            // Mark as completed
            if (!completedSections.includes(sectionKey)) {
                completedSections.push(sectionKey);
                updateProgress();
                updateSectionStatus(sectionKey);
            }
        }

        function navigateNext() {
            // Simple navigation logic (will be enhanced)
            if (currentSection === 'introduction') {
                navigateToSection('properties');
            }
        }

        function updateBreadcrumb() {
            const breadcrumb = document.querySelector('.breadcrumb');
            const chapterData = handbookContent[currentChapter];
            const sectionData = chapterData?.sections[currentSection];
            
            breadcrumb.innerHTML = `
                <span class="breadcrumb-item">${chapterData?.title || 'Chapter'}</span>
                <span class="breadcrumb-separator"><i class="fas fa-chevron-right"></i></span>
                <span class="breadcrumb-item">${sectionData?.title || 'Section'}</span>
            `;
        }

        function loadSectionContent(sectionKey) {
            // For now, we'll just update the title
            // In a full implementation, this would load different content
            const container = document.getElementById('content-container');
            container.classList.add('fade-in');
            
            // Content loading logic would go here
            console.log(`Loading content for section: ${sectionKey}`);
        }

        function updateProgress() {
            const totalSections = 12; // Total sections in handbook
            const completedCount = completedSections.length;
            const progressPercent = (completedCount / totalSections) * 100;
            
            document.querySelector('.progress-fill').style.width = `${progressPercent}%`;
        }

        function updateSectionStatus(sectionKey) {
            const sectionElement = document.querySelector(`[data-section="${sectionKey}"]`);
            const statusIcon = sectionElement.querySelector('.section-status i');
            statusIcon.className = 'fas fa-check';
        }

        function toggleBookmark() {
            const currentPage = `${currentChapter}-${currentSection}`;
            const bookmarkBtn = document.getElementById('bookmark-btn');
            
            if (bookmarks.includes(currentPage)) {
                bookmarks = bookmarks.filter(b => b !== currentPage);
                bookmarkBtn.innerHTML = '<i class="fas fa-bookmark"></i> Bookmark';
            } else {
                bookmarks.push(currentPage);
                bookmarkBtn.innerHTML = '<i class="fas fa-bookmark"></i> Bookmarked';
            }
        }

        // Initialize when page loads
        window.addEventListener('load', init);

        // Handle MathJax rendering
        window.addEventListener('load', function() {
            if (window.MathJax) {
                MathJax.typesetPromise().then(() => {
                    console.log('MathJax rendering complete');
                });
            }
        });
    </script>
</body>
</html>